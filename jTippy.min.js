/*
	jTippy
	https://github.com/HTMLGuyLLC/jTippy
	Made with love by HTMLGuy, LLC
	https://htmlguy.com
	MIT Licensed
*/
(function(a){a.fn.jTippy=function(b){if(1<this.length)return this.each(function(){a(this).jTippy(b)}),this;if("undefined"==typeof this||1!==this.length)return!1;const c=a(this);b=a.extend({},a.jTippy.defaults,b,c.data());let d=c.attr("title");"undefined"!=typeof d&&d.length&&(b.title=d),b.class+=" jt-"+b.theme+"-theme",b.class+=" jt-"+b.size,"click"!==b.trigger&&(b.backdrop=!1),b.trigger=b.trigger.toLowerCase().trim();let f={dom:this,dom_wrapped:c,position_debug:b.position_debug,trigger:b.trigger,title:b.title,theme:b.theme,class:b.class,backdrop:b.backdrop,position:b.position,close_on_outside_click:b.close_on_outside_click,singleton:b.singleton,dataAttr:"jTippy",createTooltipHTML:function(){return`<div class='jtippy ${f.class}' role='tooltip'><div class='jt-arrow'></div><div class='jt-title'>${f.title}</div></div>`},createBackdropHTML:function(){return!!f.backdrop&&`<div class='jt-backdrop jt-${f.backdrop}-backdrop'></div>`},destroy:function(){const b=f.dom_wrapped.data(f.dataAttr);"undefined"!=typeof b&&null!==b&&("click"===b.trigger?(b.dom_wrapped.off("touchstart mousedown",b.toggleTooltipHandler),b.dom_wrapped.off("click",b.preventDefaultHandler)):"focus"===b.trigger?(b.dom_wrapped.off("touchstart focus",b.show),b.dom_wrapped.off("touchend blur",b.hide)):"hover"===b.trigger?(b.dom_wrapped.off("touchstart mouseenter",b.show),b.dom_wrapped.off("touchend mouseleave",b.hide)):"hoverfocus"===b.trigger&&(b.dom_wrapped.off("focus",b.hoverfocusFocusShow),b.dom_wrapped.off("blur",b.hoverfocusBlur),b.dom_wrapped.off("touchstart mouseenter",b.show),b.dom_wrapped.off("touchend mouseleave",b.hoverfocusHide)),a(window).off("resize",b.onResize),b.isVisible()&&b.hide(),b.dom_wrapped.data(b.dataAttr,null))},initialize:function(){return"click"===f.trigger?(f.dom_wrapped.on("touchstart mousedown",f.toggleTooltipHandler),f.dom_wrapped.on("click",f.preventDefaultHandler)):"focus"===f.trigger?(f.dom_wrapped.on("touchstart focus",f.show),f.dom_wrapped.on("touchend blur",f.hide)):"hover"===f.trigger?(f.dom_wrapped.on("touchstart mouseenter",f.show),f.dom_wrapped.on("touchend mouseleave",f.hide)):"hoverfocus"===f.trigger&&(f.dom_wrapped.on("focus",f.hoverfocusFocusShow),f.dom_wrapped.on("blur",f.hoverfocusBlur),f.dom_wrapped.on("touchstart mouseenter",f.show),f.dom_wrapped.on("touchend mouseleave",f.hoverfocusHide)),"click"!==f.trigger&&f.dom_wrapped.on("touchstart mousedown",f.hide),a.jTippy.body_click_initialized||(a(document).on("touchstart mousedown",f.onClickOutside),a.jTippy.bodyClickInitialized=!0),f.dom_wrapped.data(f.dataAttr,f),f.dom},hoverfocusFocusShow:function(){f.dom_wrapped.addClass("jt-focused"),f.dom_wrapped.show()},hoverfocusBlur:function(){f.dom_wrapped&&f.dom_wrapped.length&&f.dom_wrapped.removeClass("jt-focused"),f.hide()},hoverfocusHide:function(){return!f.dom_wrapped.hasClass("jt-focused")&&void f.hide()},preventDefaultHandler:function(a){return a.preventDefault(),!1},toggleTooltipHandler:function(a){return a.preventDefault(),f.isVisible()&&f.hide()||f.show(),!1},show:function(b){if(f.isVisible())return!1;f.singleton&&f.hideAllVisible();const c=a("body");"blurred"===f.backdrop?c.addClass("jt-blurred-body"):f.backdrop&&c.append(f.createBackdropHTML()),c.append(f.createTooltipHTML()),f.tooltip=a(".jtippy:last"),f.positionTooltip(),a(window).on("resize",f.onResize);const d="jTippy"+Date.now();f.tooltip.attr("id",d),f.dom.attr("aria-describedby",d),a.jTippy.visible.push(f),("undefined"==typeof b||b)&&f.dom.trigger("jt-show",{tooltip:f.tooltip})},isVisible:function(){return-1<a.inArray(f,a.jTippy.visible)},hideAllVisible:function(){return a.each(a.jTippy.visible,function(a,b){b.hide()}),this},hide:function(b){a(window).off("resize",f.onResize),f.dom.attr("aria-describedby",null),f.tooltip&&f.tooltip.length&&f.tooltip.remove(),"blurred"===f.backdrop?a("body").removeClass("jt-blurred-body"):f.backdrop&&a(".jt-backdrop").remove(),("undefined"==typeof b||b)&&f.dom.trigger("jt-hide"),"click"!==f.trigger&&f.dom_wrapped.off("touchstart mousedown",f.hide);var c=a.inArray(f,a.jTippy.visible);return a.jTippy.visible.splice(c,1),f.dom},onResize:function(){f.hide(!1),f.show(!1)},onClickOutside:function(b){const c=a(b.target);c.hasClass("jtippy")||c.parents(".jtippy:first").length||a.each(a.jTippy.visible,function(a,b){"undefined"!=typeof b&&"click"===b.trigger&&b.close_on_outside_click&&b.hide()})},positionTooltip:function(){f.positionDebug("-- Start positioning --");let a=f.tooltip.find(".jt-arrow"),[b,c,d,e,g,h]=f.calculateSafePosition(f.position);return("undefined"==typeof g&&"auto"!==f.position&&(f.positionDebug("Couldn't fit preferred position"),[b,c,d,e,g,h]=f.calculateSafePosition("auto")),"undefined"==typeof g)?(f.positionDebug("Doesn't appear to fit. Displaying centered"),f.tooltip.addClass("jt-centered").css({top:"50%",left:"50%","margin-left":-(d/2),"margin-top":-(e/2)}),a&&a.length&&a.remove(),void f.positionDebug("-- Done positioning --")):(f.positionDebug({"Setting Position":{Left:g,Top:h}}),f.tooltip.css("left",g),f.tooltip.css("top",h),60>c&&(f.positionDebug("Element is less than "+c+"px. Setting arrow to hug the side tighter"),b+=" jt-arrow-super-hug"),a.addClass("jt-arrow-"+b),f.positionDebug("-- Done positioning --"),f)},calculateSafePosition:function(a){let b=f.tooltip.find(".jt-arrow"),c=f.dom_wrapped.offset(),d=f.dom_wrapped.outerHeight(),e=f.dom_wrapped.outerWidth();f.positionDebug({"Clicked Element Pre-Margin":{Left:c.left,Top:c.top}});let g=parseInt(f.dom_wrapped.css("marginLeft").replace("px","")),h=parseInt(f.dom_wrapped.css("marginTop").replace("px",""));c.left+=g,c.top+=h;let i=f.tooltip.outerWidth(),j=f.tooltip.outerHeight(),k=document.querySelector("body").offsetWidth,l=document.querySelector("body").offsetHeight,m=b.is(":visible")?b.outerHeight():0,n=b.is(":visible")?b.outerWidth():0,o={};o.below=5<l-(j+d+c.top),o.above=5<c.top-j,o.vertical_half=5<c.top+e/2-j/2,o.right=5<k-(i+e+c.left),o.right_half=5<k-c.left-e/2-i/2,o.right_full=5<k-c.left-i,o.left=5<c.left-i,o.left_half=5<c.left+e/2-i/2,o.left_full=5<c.left-i,f.positionDebug({"Clicked Element":{Left:c.left,Top:c.top}}),f.positionDebug({"Element Dimensions":{Height:d,Width:e},"Tooltip Dimensions":{Height:j,Width:i},"Window Dimensions":{Height:l,Width:k},"Arrow Dimensions":{Height:m,Width:n}}),f.positionDebug(o);let p,q,r;return("auto"===a||"bottom"===a)&&o.below&&o.left_half&&o.right_half?(f.positionDebug("Displaying below, centered"),p="top",q=c.left-i/2+e/2,r=c.top+d+m/2):("auto"===a||"top"===a)&&o.above&&o.left_half&&o.right_half?(f.positionDebug("Displaying above, centered"),p="bottom",q=c.left-i/2+e/2,r=c.top-j-m/2):("auto"===a||"left"===a)&&o.left&&o.vertical_half?(f.positionDebug("Displaying left, centered"),p="right",q=c.left-i-n/2,r=c.top+d/2-j/2):("auto"===a||"right"===a)&&o.right&&o.vertical_half?(f.positionDebug("Displaying right, centered"),p="left",q=c.left+e+n/2,r=c.top+d/2-j/2):("auto"===a||"bottom"===a)&&o.below&&o.right_full?(f.positionDebug("Displaying below, to the right"),p="top jt-arrow-hug-left",q=c.left,r=c.top+d+m/2):("auto"===a||"bottom"===a)&&o.below&&o.left_full?(f.positionDebug("Displaying below, to the left"),p="top jt-arrow-hug-right",q=c.left+e-i,r=c.top+d+m/2):("auto"===a||"top"===a)&&o.above&&o.right_full?(f.positionDebug("Displaying above, to the right"),p="bottom jt-arrow-hug-left",q=c.left,r=c.top-j-m/2):("auto"===a||"top"===a)&&o.above&&o.left_full&&(f.positionDebug("Displaying above, to the left"),p="bottom jt-arrow-hug-right",q=c.left+e-i,r=c.top-j-m/2),[p,e,i,j,q,r]},positionDebug:function(a){return!!f.position_debug&&("object"==typeof a?console.table(a):console.log(`Position: ${a}`))}};return f.destroy(),f.initialize()},a.jTippy={},a.jTippy.visible=[],a.jTippy.body_click_initialized=!1,a.jTippy.defaults={title:"",trigger:"hoverfocus",position:"auto",class:"",theme:"black",size:"small",backdrop:!1,singleton:!0,close_on_outside_click:!0}})(jQuery);