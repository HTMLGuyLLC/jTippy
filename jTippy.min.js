/*
	jTippy
	https://github.com/HTMLGuyLLC/jTippy
	Made with love by HTMLGuy, LLC
	https://htmlguy.com
	MIT Licensed
*/
(function(a){a.fn.jTippy=function(b){if(1<this.length)return this.each(function(){a(this).jTippy(b)}),this;if('undefined'==typeof this||1!==this.length)return!1;const c=a(this);b=a.extend({},a.jTippy.defaults,b,c.data());let d=c.attr('title');'undefined'!=typeof d&&d.length&&(b.title=d),b.class+=' jt-'+b.theme+'-theme',b.class+=' jt-'+b.size,'click'!==b.trigger&&(b.backdrop=!1),b.trigger=b.trigger.toLowerCase().trim();let f={dom:this,dom_wrapped:c,position_debug:b.position_debug,trigger:b.trigger,title:b.title,theme:b.theme,class:b.class,backdrop:b.backdrop,position:b.position,close_on_outside_click:b.close_on_outside_click,singleton:b.singleton,dataAttr:'jTippy',createTooltipHTML:function(){return`<div class='jtippy ${f.class}' role='tooltip'><div class='jt-arrow'></div><div class='jt-title'>${f.title}</div></div>`},createBackdropHTML:function(){return!!f.backdrop&&`<div class='jt-backdrop jt-${f.backdrop}-backdrop'></div>`},destroy:function(){const g=f.dom_wrapped.data(f.dataAttr);'undefined'!=typeof g&&null!==g&&('click'===g.trigger?(g.dom_wrapped.off('touchstart mousedown',g.toggleTooltipHandler),g.dom_wrapped.off('click',g.preventDefaultHandler)):'focus'===g.trigger?(g.dom_wrapped.off('touchstart focus',g.show),g.dom_wrapped.off('touchend blur',g.hide)):'hover'===g.trigger?(g.dom_wrapped.off('touchstart mouseenter',g.show),g.dom_wrapped.off('touchend mouseleave',g.hide)):'hoverfocus'===g.trigger&&(g.dom_wrapped.off('focus',g.hoverfocusFocusShow),g.dom_wrapped.off('blur',g.hoverfocusBlur),g.dom_wrapped.off('touchstart mouseenter',g.show),g.dom_wrapped.off('touchend mouseleave',g.hoverfocusHide)),a(window).off('resize',g.onResize),g.isVisible()&&g.hide(),g.dom_wrapped.data(g.dataAttr,null))},initialize:function(){return'click'===f.trigger?(f.dom_wrapped.on('touchstart mousedown',f.toggleTooltipHandler),f.dom_wrapped.on('click',f.preventDefaultHandler)):'focus'===f.trigger?(f.dom_wrapped.on('touchstart focus',f.show),f.dom_wrapped.on('touchend blur',f.hide)):'hover'===f.trigger?(f.dom_wrapped.on('touchstart mouseenter',f.show),f.dom_wrapped.on('touchend mouseleave',f.hide)):'hoverfocus'===f.trigger&&(f.dom_wrapped.on('focus',f.hoverfocusFocusShow),f.dom_wrapped.on('blur',f.hoverfocusBlur),f.dom_wrapped.on('touchstart mouseenter',f.show),f.dom_wrapped.on('touchend mouseleave',f.hoverfocusHide)),'click'!==f.trigger&&f.dom_wrapped.on('touchstart mousedown',f.hide),a.jTippy.body_click_initialized||(a(document).on('touchstart mousedown',f.onClickOutside),a.jTippy.bodyClickInitialized=!0),f.dom_wrapped.data(f.dataAttr,f),f.dom},hoverfocusFocusShow:function(){f.dom_wrapped.addClass('jt-focused'),f.dom_wrapped.show()},hoverfocusBlur:function(){f.dom_wrapped.length&&f.dom_wrapped.removeClass('jt-focused'),f.hide()},hoverfocusHide:function(){return!f.dom_wrapped.hasClass('jt-focused')&&void f.hide()},preventDefaultHandler:function(g){return g.preventDefault(),!1},toggleTooltipHandler:function(g){return g.preventDefault(),f.isVisible()&&f.hide()||f.show(),!1},show:function(g){if(f.isVisible())return!1;f.singleton&&f.hideAllVisible();const h=a('body');'blurred'===f.backdrop?h.addClass('jt-blurred-body'):f.backdrop&&h.append(f.createBackdropHTML()),h.append(f.createTooltipHTML()),f.tooltip=a('.jtippy:last'),f.positionTooltip(),a(window).on('resize',f.onResize);const i='jTippy'+Date.now();f.tooltip.attr('id',i),f.dom.attr('aria-describedby',i),a.jTippy.visible.push(f),('undefined'==typeof g||g)&&f.dom.trigger('jt-show',{tooltip:f.tooltip})},isVisible:function(){return-1<a.inArray(f,a.jTippy.visible)},hideAllVisible:function(){return a.each(a.jTippy.visible,function(g,h){h.hide()}),this},hide:function(g){a(window).off('resize',f.onResize),f.dom.attr('aria-describedby',null),f.tooltip.length&&f.tooltip.remove(),'blurred'===f.backdrop?a('body').removeClass('jt-blurred-body'):f.backdrop&&a('.jt-backdrop').remove(),('undefined'==typeof g||g)&&f.dom.trigger('jt-hide'),'click'!==f.trigger&&f.dom_wrapped.off('touchstart mousedown',f.hide);var h=a.inArray(f,a.jTippy.visible);return a.jTippy.visible.splice(h,1),f.dom},onResize:function(){f.hide(!1),f.show(!1)},onClickOutside:function(g){const h=a(g.target);h.hasClass('jtippy')||h.parents('.jtippy:first').length||a.each(a.jTippy.visible,function(i,j){'undefined'!=typeof j&&'click'===j.trigger&&j.close_on_outside_click&&j.hide()})},positionTooltip:function(){f.positionDebug('-- Start positioning --');let g=f.tooltip.find('.jt-arrow'),[h,i,j,k,l,m]=f.calculateSafePosition(f.position);return('undefined'==typeof l&&'auto'!==f.position&&(f.positionDebug('Couldn\'t fit preferred position'),[h,m,l,m,l,m]=f.calculateSafePosition('auto')),'undefined'==typeof l)?(f.positionDebug('Doesn\'t appear to fit. Displaying centered'),f.tooltip.addClass('jt-centered').css({top:'50%',left:'50%','margin-left':-(j/2),'margin-top':-(k/2)}),g.length&&g.remove(),void f.positionDebug('-- Done positioning --')):(f.positionDebug({'Setting Position':{Left:l,Top:m}}),f.tooltip.css('left',l),f.tooltip.css('top',m),60>i&&(f.positionDebug('Element is less than '+i+'px. Setting arrow to hug the side tighter'),h+=' jt-arrow-super-hug'),g.addClass('jt-arrow-'+h),f.positionDebug('-- Done positioning --'),f)},calculateSafePosition:function(g){let h=f.tooltip.find('.jt-arrow'),i=f.dom_wrapped.offset(),j=f.dom_wrapped.outerHeight(),k=f.dom_wrapped.outerWidth(),l=parseInt(f.dom_wrapped.css('marginLeft').replace('px','')),m=parseInt(f.dom_wrapped.css('marginTop').replace('px',''));i.left+=l,i.top+=m;let n=f.tooltip.outerWidth(),o=f.tooltip.outerHeight(),p=document.querySelector('body').offsetWidth,q=document.querySelector('body').offsetHeight,r=h.is(':visible')?h.outerHeight():0,s=h.is(':visible')?h.outerWidth():0,t={};t.below=5<q-(o+j+i.top),t.above=5<i.top-o,t.vertical_half=5<i.top+k/2-o/2,t.right=5<p-(n+k+i.left),t.right_half=5<p-i.left-k/2-n/2,t.right_full=5<p-i.left-n,t.left=5<i.left-n,t.left_half=5<i.left+k/2-n/2,t.left_full=5<i.left-n,f.positionDebug({'Clicked Element':{Left:i.left,Top:i.top}}),f.positionDebug({'Element Dimensions':{Height:j,Width:k},'Tooltip Dimensions':{Height:o,Width:n},'Window Dimensions':{Height:q,Width:p},'Arrow Dimensions':{Height:r,Width:s}}),f.positionDebug(t);let u,v,w;return('auto'===g||'bottom'===g)&&t.below&&t.left_half&&t.right_half?(f.positionDebug('Displaying below, centered'),u='top',v=i.left-n/2+k/2,w=i.top+j+r/2):('auto'===g||'top'===g)&&t.above&&t.left_half&&t.right_half?(f.positionDebug('Displaying above, centered'),u='bottom',v=i.left-n/2+k/2,w=i.top-o-r/2):('auto'===g||'left'===g)&&t.left&&t.vertical_half?(f.positionDebug('Displaying left, centered'),u='right',v=i.left-n-s/2,w=i.top+j/2-o/2):('auto'===g||'right'===g)&&t.right&&t.vertical_half?(f.positionDebug('Displaying right, centered'),u='left',v=i.left+k+s/2,w=i.top+j/2-o/2):('auto'===g||'bottom'===g)&&t.below&&t.right_full?(f.positionDebug('Displaying below, to the right'),u='top jt-arrow-hug-left',v=i.left,w=i.top+j+r/2):('auto'===g||'bottom'===g)&&t.below&&t.left_full?(f.positionDebug('Displaying below, to the left'),u='top jt-arrow-hug-right',v=i.left+k-n,w=i.top+j+r/2):('auto'===g||'top'===g)&&t.above&&t.right_full?(f.positionDebug('Displaying above, to the right'),u='bottom jt-arrow-hug-left',v=i.left,w=i.top-o-r/2):('auto'==g||'top'==g)&&t.above&&t.left_full&&(f.positionDebug('Displaying above, to the left'),u='bottom jt-arrow-hug-right',v=i.left+k-n,w=i.top-o-r/2),[u,k,n,o,v,w]},positionDebug:function(g){return!!f.position_debug&&('object'==typeof g?console.table(g):console.log(`Position: ${g}`))}};return f.destroy(),f.initialize()},a.jTippy={},a.jTippy.visible=[],a.jTippy.body_click_initialized=!1,a.jTippy.defaults={title:'',trigger:'hoverfocus',position:'auto',class:'',theme:'black',size:'small',backdrop:!1,singleton:!0,close_on_outside_click:!0}})(jQuery);